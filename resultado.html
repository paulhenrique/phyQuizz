<html>

<head>
    <title>phyQuizz - Perguntas de física!</title>
    <meta charset="utf-8">
    <!-- Compiled and minified CSS -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <meta name="mobile-web-app-capable" content="yes">

    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="200x200" href="webroot/img/icon.png">
    <meta name="theme-color" content="rgb(74, 20, 140)">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="webroot/css/main.css">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
    <div class="navbar-fixed">
        <nav class="purple darken-4">
            <div class="nav-wrapper">
                <a href="#" class="brand-logo">Resultado</a>
                <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            </div>
        </nav>
    </div>
    <ul id="nav-mobile" class="sidenav">
            <li>
              <div class="user-view">
                <div class="background purple darken-4">
                  <!-- <img src="webroot/img/icon.png"> -->
                </div>
                <a href="#user"><img class="circle" src="webroot/img/icon.png"></a>
                <a href="#name"><span class="white-text name" id="name"><b>Isaac Newton</b></span></a>
                <a href="#email"><span class="white-text">Bem vindo!</span></a>
              </div>
            </li>
            <li><a href="index.html"> <i class="material-icons left">home</i> Início</a></li>
            <li><a href="novo-jogo.html"> <i class="material-icons left">videogame_asset</i> Novo jogo</a></li>
            <li><a href="resultado.html"><i class="material-icons left">inbox</i> Pontuação</a></li>
            <li><a href="historico.html"><i class="material-icons left">history</i> Histórico</a></li>
            <br>
            <li><a href="historico.html"><i class="material-icons left">settings</i> Configurações</a></li>
            <li><a href="#" id="resetar_jogo"><i class="material-icons left">refresh</i> Resetar Jogo</a></li>
            <li><a href="historico.html"><i class="material-icons left">favorite</i> Sobre</a></li>
            <li><a href="historico.html"><i class="material-icons left">share</i> Compartilhar</a></li>
            <li><a href="https://github.com/paulhenrique/phyQuizz"><i class="material-icons left">code</i> Ver o
                código</a>
            </li>
            <li><a href="https://github.com/paulhenrique/phyQuizz"><i class="material-icons left">add_to_home_screen</i>
                Adicionar a tela inicial</a></li>
          </ul>
    <div class="section no-pad-bot">
        <div class="container">
            <div class="row center">
                <div>
                    <br> <br>
                    <img src="webroot/img/medal.png" width="90" alt="">
                    <br> <br>
                    <h3>Você finalizou o jogo!</h3>
                    <p>Você alcançou um total de <span id="acertos">0</span> acertos</p>
                </div>
            </div>
            <div class="row" id="respostas">

            </div>
        </div>
    </div>
</body>
<!-- Compiled and minified JavaScript -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="webroot/js/questionario.js"></script>
<script src="sw.js"></script>
<script>
    $('.sidenav').sidenav();
    q = new Questionario;
    document.getElementById("acertos").innerHTML = String(q.quantidade_de_acertos);
    $.each(q.acertos, function (i, c) {
        let div = $("<div>");
        let h1 = $("<h5>");
        let numero_questao = parseInt(i) + 1;
        let resposta_correta_string = String(q.questoes[i].correta);
        let p = $("<p>").addClass('resposta-text');
        let cor = (c == 0) ? "red" : "green";
        let status = (c == 0) ? "Você errou" : "Você acertou";
        let span = $("<span>").addClass(String(cor) + "-text");
        let resposta_correta = $("<p>");

        p.append(q.questoes[i].questao);
        resposta_correta.append("A resposta correta era: ");
        resposta_correta.append(resposta_correta_string);
        h1.append("Questão " + numero_questao);
        span.append(" - " + String(status));
        h1.append(span);
        div.append(h1);
        div.append(p);
        div.append(resposta_correta);

        $('#respostas').append(div);
    });


    if ('serviceWorker' in navigator) {
    console.log("Will the service worker register?");
    navigator.serviceWorker.register('service-worker.js')
      .then(function(reg){
        console.log("Yes, it did.");
     }).catch(function(err) {
        console.log("No it didn't. This happened:", err)
    });
 }
</script>

</html>